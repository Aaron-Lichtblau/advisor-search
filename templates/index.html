<!DOCTYPE html>

<html>
   <head>
      <title>Princeton AdvisorSearch</title>
      <link rel="stylesheet" type="text/css" href="{{url_for('static', filename='styles.css')}}">
      <link rel="shortcut icon" href="static/magny-glass.png">
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
      <link rel="stylesheet" href="select2-bootstrap.css">
      <!-- <script src="https://code.jquery.com/jquery-3.4.1.js" integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU=" crossorigin="anonymous"></script> -->
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js">

      </script>
      <link href="https://cdn.jsdelivr.net/npm/select2@4.0.12/dist/css/select2.min.css" rel="stylesheet" />
      <script src="https://cdn.jsdelivr.net/npm/select2@4.0.12/dist/js/select2.min.js"></script>

      <!-- <script>
        //   $(document).ready(function () {
        // })
          // $("areamenu").select2({placeholder: "Select an area or start typing to search a keyword"});
          // $("areamenu_clear").click(function() { $("#e8_2").select2("val", ""); });
      </script> -->
   </head>

   <body>

      <!-- <ul class="navbarul">
         <li><a href="/home">AdvisorSearch</a></li>
         <li style="float:right"><a href="/home">Home</a></li>
         <li style="float:right"><a href="/resources">Resources</a></li>
      </ul> -->


      <div class="header">
         <p style="color:white">AdvisorSearch</p>
         <a href="/resources">Resources</a>
      </div>
      <br>
      <br>
      <br>

      <div class="searchArea">
        <select id="searchBar" multiple="multiple">
           <script>
              $('#searchBar').select2({
                 tags:["Computational Biology", "Computer Architecture", "Economics/Computation", "Graphics", "Vision", "Machine Learning", "AI", "Natural Language Processing", "Policy", "Programming Languages/Compilers", "Security & Privacy", "Systems", "Theory"],
                 tokenSeparators: [",", " "],
                 placeholder: "Select an area or start typing to search a keyword",
              });
          </script>
        </select>



         <h3>Research Areas</h3>
            <br>Keyword Search:<input type="text" name="entry" value='{{entry}}'>
            <input type="submit" value="Submit">
         </form>
      </div>

      <div class="flex-container">
         <div id="searchResults">
           {% if professors|length == 0 %}
           <h3>Search to begin!</h3>
           {% else %}
            <h3>Advisors</h3>
            {% endif %}
            <ul>

            {% for prof in professors: %}
               <li><a href="/?profid={{prof[2]}}">{{prof[0]}} {{prof[1]}}</li></a>
            {% endfor %}
            </ul>
         </div>

         <div id="profSection">

           {% if prof.getName() != '' %}

            <h3>{{prof.getName()}}</h3>
            <p>{{prof.getBio()}}</p>
            <h4>Research Areas:</h4>
            <ul>
              {% for area in prof.getAreas() %}
              <li>{{area[0].strip('. ')}}</li>
            {% endfor %}
            </ul>
            <h4>Current Projects:</h4>
            {% if prof.getProjects() == 'No projects found.' %}
              <p>{{prof.getProjects()}}</p>
            {% else %}
            <ul>
              {% for proj in prof.getProjects() %}
              <li>{{proj[0].strip('. ')}}</li>
            {% endfor %}
            {% endif %}
            </ul>
            <h4>Past Theses Advised:</h4>
            {% if links == '' %}
              <p>{{titles}}</p>
            {% else %}
            <ul>
              {% for i in range(titles|length) %}
              <li><a href={{links[i].strip(', ')}}>{{titles[i].strip(',. ')}}</li></a>
            {% endfor %}
            {% endif %}
            </ul>

            <p>{{prof.getContact()}}</p>

            {% elif professors|length != 0 %}
            <h3>Click on a professor!</h3>
            {% endif %}

         </div>
      </div>

   </body>
</html>
